<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
  <link rel="shortcut icon" href="favicon.png">
  <link rel="stylesheet"    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.9.0/css/all.css">

<!--BEGINNING OF Global STYLE SHEETS (CSS)-->
  <link rel="stylesheet"    href="../css/00_global_variables.css">
  <link rel="stylesheet"    href="../css/01_hamburger.css">
  <link rel="stylesheet"    href="../css/02_header.css">
  <link rel="stylesheet"    href="../css/03_footer.css">
  <link rel="stylesheet"    href="../css/04_index.css">
<!--RESPONSIVE STYLE SHEETS (CSS)-->
  <link rel="stylesheet"    href="../css/05_resp_GT0950-bigScreen.css">
  <link rel="stylesheet"    href="../css/06_resp_741-950-tabletPortrait.css">
  <link rel="stylesheet"    href="../css/07_resp_440-740-mobileLandscape.css">
  <link rel="stylesheet"    href="../css/08_resp_LT0440-mobilePortrait.css">
  <link rel="stylesheet"    href="../css/09_variables.css">
<!--BEGINNING OF LOCAL STYLE SHEETS (CSS)-->
  <link rel="stylesheet"    href="project-info.css">

  <script src="../assets/js/header.js"></script>

</head>
<body>
<script type="module">
  //--Header / Footer Includes--------------------------------------/  
	  setHTML( 'inc-header', '../includes/inc-header.html' );   
    setHTML( 'inc-footer', '../includes/inc-footer.html' );   

  //----showPin Function-----------------------------------/
    function showPin() {
        var x = document.getElementById("password");
        if (x.type === "password") {
          x.type = "text";
        } else {
          x.type = "password";
        }
      }
    window.showPin = showPin

  //----showPin if id >= 0 -----------------------------------/
    const url = window.location.href;
    //alert("url: " + url);
    var nPos = url.indexOf("?");
    //alert("nPos = " + nPos);

      if ( nPos >= 0 ) {
        $("#show-pin").css("display", "block");
        //alert("true")    
        //console.log('The query parameter is set');
      } else {
        $("#show-pin").css("display", "none");
        //alert("false")
        //console.log('The query parameter is not set');
      }

  //----submit Function-----------------------------------/  
  var  pMembersInfoForm = document.getElementById(  "MembersInfoForm" );                       // .(30428.01.1)
       pMembersInfoForm.addEventListener("submit", onMemberInfoForm_Submit );                 //#.(30428.01.2 RAM Have to define listener in module).(30428.04.2)


      //alert ("Id = " + id)
      var pWelcome = document.getElementById( "WelcomeMemberInfo" )
                  //fetch( `${aAPI_UTL}/members?id=${ id }` )
                  fetch( `http://localhost:3012/members?id=${ id }` )
          .then( ( res  ) => res.json( ) )
          .then( ( json ) => {  
          var aHTML = fmtWelcome (json)
          pWelcome.innerHTML = aHTML 
          } ) 
          //.catch(( err  ) =>   alert ( `*** ${err.message}` ));                     
          function fmtWelcome ( pJSON ) {
              var aHTML = "For: " + pJSON.members[0].FullName
              return aHTML
          }

    function onMemberInfoForm_Submit() {

      var pFirstName = document.getElementById( "firstname" )
      var pMI = document.getElementById( "middleinits" )
      var pLastName = document.getElementById( "lastname" )
      var pSuffix = document.getElementById( "suffix" )
      var pEmail = document.getElementById( "email" )
      var pPassword = document.getElementById( "password" )
      var pCompany = document.getElementById( "co-name" )
      var pCompanyURL = document.getElementById( "co-url" )
      var pCoAddr1 = document.getElementById( "co-addr1" )
      var pCoAddr2 = document.getElementById( "co-addr2" )
      var pCity = document.getElementById( "city" )
      var pState = document.getElementById( "state" )
      var pZIP = document.getElementById( "zip" )
      var pCountry = document.getElementById( "country" )
      var pPhone1 = document.getElementById( "phone1" )
      var pPhone2 = document.getElementById( "phone2" )
      var pBio = document.getElementById( "bio" )
      alert ("About to submit " + pFirstName.value)
    }
  
  //----GET Function-----------------------------------/
              onMemberInfoForm_Get()
    function  onMemberInfoForm_Get() {
      var pFirstName = document.getElementById( "firstname" )
      var pMI = document.getElementById( "middleinits" )
      var pLastName = document.getElementById( "lastname" )
      var pSuffix = document.getElementById( "suffix" )
      var pEmail = document.getElementById( "email" )
      var pPassword = document.getElementById( "password" )
      var pCompany = document.getElementById( "co-name" )
      var pCompanyURL = document.getElementById( "co-url" )
      var pCoAddr1 = document.getElementById( "co-addr1" )
      var pCoAddr2 = document.getElementById( "co-addr2" )
      var pCity = document.getElementById( "city" )
      var pState = document.getElementById( "state" )
      var pZIP = document.getElementById( "zip" )
      var pCountry = document.getElementById( "country" )
      var pPhone1 = document.getElementById( "phone1" )
      var pPhone2 = document.getElementById( "phone2" )
      var pBio = document.getElementById( "bio" )

      //fetch( `${aAPI_UTL}/members?id=${ id }` )
                  fetch( `http://localhost:3012/members?id=${ id }` )
          .then( ( res  ) => res.json( ) )
          .then( ( json ) => {  
          pFirstName.value = json.members[0].FirstName
          pMI.value = json.members[0].MiddleName
          pLastName.value = json.members[0].LastName 
          pSuffix.value = json.members[0].PostName 
          pEmail.value = json.members[0].Email 
          pPassword.value = json.members[0].PIN 
          pCompany.value = json.members[0].Company 
          pCompanyURL.value = json.members[0].WebSite 
          pCoAddr1.value = json.members[0].Address1
          pCoAddr2.value = json.members[0].Address2
          pCity.value = json.members[0].City
          pState.value = json.members[0].State
          pZIP.value = json.members[0].Zip
          pCountry.value = json.members[0].Country
          pPhone1.value = json.members[0].Phone1
          pPhone2.value = json.members[0].Phone2
          pBio.value = json.members[0].Bio
       
        } ) 
      }
          //.catch(( err  ) =>   alert ( `*** ${err.message}` ));                     
</script>	

<!--  Header -->
  <style>
      #MenuBlank {display:block;}
      #HomeLink {display:block;}
      #HomeLinkLine {display:block;}
      #MembersLink {display:block}
      #ContactLink a {color:grey}
      #BiosLink a {color:grey}
      #MembersLinkLine {display:block}
      #MembersProjectsLink {display:block}
      #ProjectDetailsLink a {color:blue}
      #MembersProjectsLinkLine {display:block}
      #GuruLink a {color:grey}
      #SupportLink a {color:grey}
      #LicenseLink a {color:grey;}
      #MtgLocLinkLine {display:block;}
      #MtgLocLink a {display: block}
      #LoginLinkLine {display:block;}
      #LoginLink {display:none}
      #MenuBlank {display:block;}
      /*#log {display:none}*/
  </style>



  <!-- inc-header-->
			<div id="inc-header"></div>
		<!-- END inc-header -->

  <!-- END  Header -->

  <!--  Section 1 -->
    <div class="Section1"> 
      <div class="Section1Title">institute of database developers</div>

      <div class="form-setting">
        <h1>
          Project Information<br>  
          <div id="member-form-error">ERROR!</div>
          <div id="WelcomeMemberInfo"></div>
          <div id="ProjectNameBanner">PFEP (Plan For Every Part)</div>
          <div class="req-fields-notice">* required fields</div>  
          <div id="member-form-error">ERROR!</div>
      </h1>
        <form id="MembersInfoForm">
          <table class="name-title"><tr>
            <td width="35%"><font color="blue"><b>Project Name *</b></font></td>
          </tr></table>
          <ul class="name-info">
              <li><input type="text" name="project-name" placeholder="Project Name" id="projectname" required></li>
              <script>//debugger</script>
          </ul>

          <table class="project-url-title"><tr>
            <td width="35%"><font color="blue"><b>Project Website (URL)</b></font></td>
          </tr></table>
          <ul class="project-url">
              <li><input type="text" name="project-url" placeholder="Project Website" id="project-url" required></li>
              <script>//debugger</script>
          </ul>

          <table class="client-title"><tr>
            <td width="45%"><font color="blue"><b>Client's Name</b></font></td>
          </tr></table>
          <ul class="client-name">
            <li><input type="text" name="company" placeholder="Client Name" id="client-name"></li>
          </ul><br><br>

          <table class="client-url-title"><tr>
            <td width="45%"><font color="blue"><b>Client's Website (URL)</b></font></td>
          </tr></table>
          <ul class="client-url">
            <li><input type="text" name="client-url" placeholder="Client Website" id="client-url"></li>
          </ul><br><br>

          <table class="ind-loc-info-title"><tr>
            <td width="80%"><font color="blue"><b>Industry</b></font></td>
            <td width="0%"><font color="blue"><b>Location</b></font></td>
          </tr></table>          
          <ul class="ind-loc-info">
            <li><input type="text" name="industry" placeholder="Industry" id="industry"></li>
            <li><input type="text" name="location" placeholder="Location" id="location"></li>
          </ul><br><br>

          <table class="members-title"><tr>
            <td width="12%"><font color="blue"><b>Member's Role</b></font></td>
            <td width="15%"><font color="blue"><b>Duration</b></font></td>
            <td width="12%"><font color="blue"><b>Dates</b></font>&nbsp;</td>
          </tr></table>
          <ul class="members-info">
            <li><input type="text" name="role" placeholder="Member Role" id="role"></li>
            <li><input type="text" name="duration" placeholder="Duration" id="duration"></li>
            <li><input type="text" name="dates" placeholder="Dates" id="dates"></li>
          </ul><br><br>


          <table class="description-title"><tr>
            <td width="45%"><font color="blue"><b>Project Description</b></font></td>
          </tr></table>
          <ul class="description-info">
            <li><textarea name="description" placeholder="Project Description" id="description" title="Please enter the project description here" rows="14" cols="10" wrap="soft" style="padding: 10px 10px 10px 15px;"></textarea></li>
          </ul><br><br><br><br>

          
          <table class="collaborators-title">
            <tr><td colspan="1"><font color="blue"><b>Collaborator(s)</b></font></td><td><font color="blue"><b title="Add a Collaborator">+</b></font></td></tr>
            <tr><td align="right"><font color="red"><b title="Remove Collaborator">-</b></font>&nbsp;</td><td><font color="black"><b>Ken Fussell</b></font></td></tr>
            <tr><td align="right"><font color="red"><b>-</b></font>&nbsp;</td><td><font color="black"><b>Robin Mattern</b></font></td></tr>        
            <tr><td align="right"><font color="red"><b>-</b></font>&nbsp;</td><td><font color="black"><b>Bruce Troutman</b></font></td></tr>
          </table>
          <br><br><br><br><br><br>

          <input id="submit-button" type="submit" value="Submit">
        </form>
      </div>
      <br><br><br><br>

    </div>
  <!--  END Section 1 -->

  <!--  Section 2 -->
  <!--  END Section 2 -->
  <!--  Footer -->
  <!-- inc-footer-->
			<div id="inc-footer"></div>
		<!-- END inc-footer -->
  <!-- END  Footer -->

</body>
</html>
